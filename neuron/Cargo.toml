[package]
name = "neuron"
version = "0.1.0"
edition.workspace = true

[lib]
path = "src/lib.rs"

[dependencies]
layer0 = { path = "../layer0", optional = true }
neuron-context = { path = "../neuron-context", optional = true }
neuron-hooks = { path = "../neuron-hooks", optional = true }
neuron-mcp = { path = "../neuron-mcp", optional = true }
neuron-op-react = { path = "../neuron-op-react", optional = true }
neuron-op-single-shot = { path = "../neuron-op-single-shot", optional = true }
neuron-orch-kit = { path = "../neuron-orch-kit", optional = true }
neuron-orch-local = { path = "../neuron-orch-local", optional = true }
neuron-env-local = { path = "../neuron-env-local", optional = true }
neuron-provider-anthropic = { path = "../neuron-provider-anthropic", optional = true }
neuron-provider-ollama = { path = "../neuron-provider-ollama", optional = true }
neuron-provider-openai = { path = "../neuron-provider-openai", optional = true }
neuron-state-fs = { path = "../neuron-state-fs", optional = true }
neuron-state-memory = { path = "../neuron-state-memory", optional = true }
neuron-tool = { path = "../neuron-tool", optional = true }
neuron-turn = { path = "../neuron-turn", optional = true }

[features]
default = ["core", "hooks"]

# Protocol + core wiring
core = [
  "dep:layer0",
  "dep:neuron-context",
  "dep:neuron-tool",
  "dep:neuron-turn",
]
hooks = ["core", "dep:neuron-hooks"]

# Tooling / integration
mcp = ["core", "dep:neuron-mcp"]

# Operators
op-react = ["hooks", "dep:neuron-op-react"]
op-single-shot = ["hooks", "dep:neuron-op-single-shot"]

# Orchestration implementations
orch-kit = ["core", "dep:neuron-orch-kit"]
orch-local = ["orch-kit", "dep:neuron-orch-local"]

# Environment implementations
env-local = ["core", "dep:neuron-env-local"]

# State backends
state-memory = ["core", "dep:neuron-state-memory"]
state-fs = ["core", "dep:neuron-state-fs"]

# Providers
provider-openai = ["core", "dep:neuron-provider-openai"]
provider-anthropic = ["core", "dep:neuron-provider-anthropic"]
provider-ollama = ["core", "dep:neuron-provider-ollama"]
providers-all = ["provider-openai", "provider-anthropic", "provider-ollama"]
